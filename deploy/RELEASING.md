# Release Process

This document describes the process for creating new releases of the WARC Processor.

## Automated Release Process

### 1. Update Version
```bash
# Edit setup.py to update version
# Example: version="1.0.0"
```

### 2. Create Release Commit
```bash
# Update CHANGELOG.md with changes
git add CHANGELOG.md setup.py
git commit -m "Bump version to 1.0.0"
git push origin main
```

### 3. Create and Push Tag
```bash
# Create annotated tag
git tag -a v1.0.0 -m "Release v1.0.0"

# Push tag to trigger release workflow
git push origin v1.0.0
```

### 4. Monitor Release Creation
1. Go to GitHub Actions tab
2. Watch the "Release" workflow
3. Verify all steps complete successfully

The GitHub Actions workflow will automatically:
- Build the binary package
- Generate SHA256 checksums
- Create release notes from commits
- Create a GitHub release
- Upload all artifacts

## Manual Release Process (if needed)

### 1. Build Binary
```bash
cd deploy/binary
./create_release.sh
```

### 2. Generate Checksums
```bash
cd dist
sha256sum warc-processor-*.tar.gz > SHA256SUMS
```

### 3. Create GitHub Release
1. Go to Releases page on GitHub
2. Click "Create a new release"
3. Select or create the version tag
4. Fill in release notes
5. Upload binary and checksums
6. Publish release

## Release Artifacts

Each release includes:
1. Binary package (`warc-processor-<version>-linux-x86_64.tar.gz`)
2. SHA256 checksums file
3. Release notes
4. Source code (auto-generated by GitHub)

## Container Images

Container images are automatically built and pushed to:
- GitHub Container Registry: `ghcr.io/dsullivansr/warc-processor:<version>`
- DockerHub: `dsullivansr/warc-processor:<version>` (if configured)

## Versioning

We follow [Semantic Versioning](https://semver.org/):
- MAJOR version for incompatible API changes
- MINOR version for new functionality in a backward compatible manner
- PATCH version for backward compatible bug fixes

## Post-Release

1. Verify the release artifacts are available
2. Test the binary package
3. Verify container images work
4. Update documentation if needed
5. Announce the release (if applicable)

## Troubleshooting

### Release Workflow Failed
1. Check GitHub Actions logs
2. Common issues:
   - Test failures
   - Build errors
   - Missing dependencies

### Manual Release Needed
Follow the "Manual Release Process" section above.

## Release Channels

- **Stable**: Tagged releases (v1.0.0, v1.1.0, etc.)
- **Development**: Latest main branch
- **Pre-release**: Release candidates (v1.0.0-rc1)

## Support Policy

- Latest stable release: Full support
- Previous stable release: Bug fixes only
- Older releases: Security fixes only
- Development versions: Best effort

## Additional Resources

- [Deployment Guide](README.md)
- [Binary Distribution](binary/README.md)
- [Container Deployment](containers/README.md)
- [Cluster Deployment](cluster/README.md)
